<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Currency Converter</title>
<style>
    body{
        margin:0; padding:0; display:flex; justify-content:center; align-items:center; height:100vh; background:#1a202c; font-family:sans-serif;
    }
    .container{
        background:#2d3748; padding:30px; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.4); width:400px;
    }
    h2{
        color:#edf2f7; margin-bottom:40px;
    }
    .row{
        display:flex; justify-content:space-between; gap:10px; margin-bottom:20px;
    }
    .box{
        flex:1; background:#4a5568; padding:12px; border-radius:8px; color:#edf2f7; display:flex; align-items:center; justify-content:center;
    }
    .box input{
        width:100%; padding:8px; border:none; border-radius:6px; outline:none; font-size:16px;
    }
    .box select{
        width:100%; padding:8px; border:none; border-radius:6px; outline:none; font-size:16px;
    }
    .swap{
        text-align:center; font-size:20px; color:#edf2f7; margin-bottom:20px; cursor:pointer;
    }
    button{
        width:100%; padding:10px; border:none; border-radius:8px; background:#3182ce; color:white; font-size:16px; cursor:pointer;
    }
</style>
</head>
<body>
    <div class="container">
    <h2>Currency Converter-Jagan</h2>
    <div class="row">
        <div class="box"><input type="number" id="amount" placeholder="Enter amount"></div>
        <div class="box">
        <select id="from"></select>
        </div>
    </div>
    <div class="swap" onclick="swapCurrency()">â‡…</div>
    <div class="row">
        <div class="box"><input type="text" id="result" placeholder="Converted amount" readonly></div>
        <div class="box">
        <select id="to"></select>
        </div>
    </div>
    <button onclick="convertCurrency()">Convert</button>
    </div>

    <script>
    async function loadCurrencies(){
        try{
        let res = await fetch("https://open.er-api.com/v6/latest/USD");
        let data = await res.json();
        let currencies = Object.keys(data.rates);

        let fromSelect = document.getElementById("from");
        let toSelect = document.getElementById("to");

        currencies.forEach(code => {
            let option1 = document.createElement("option");
            option1.value = code; option1.textContent = code;
            fromSelect.appendChild(option1);

            let option2 = document.createElement("option");
            option2.value = code; option2.textContent = code;
            toSelect.appendChild(option2);
        });

        
        fromSelect.value = "USD";
        toSelect.value = "INR";
        }catch(err){
        alert("Error loading currencies");
        }
    }

    async function convertCurrency(){
        let amount = document.getElementById("amount").value;
        let from = document.getElementById("from").value;
        let to = document.getElementById("to").value;

        if(amount === "" || isNaN(amount)){
        alert("Please enter a valid amount");
        return;
        }

        try{
        let res = await fetch(`https://open.er-api.com/v6/latest/${from}`);
        let data = await res.json();
        let rate = data.rates[to];
        document.getElementById("result").value = (amount * rate).toFixed(2);
        }catch(err){
        alert("Error fetching data");
        }
    }

    function swapCurrency(){
        let from = document.getElementById("from");
        let to = document.getElementById("to");
        let temp = from.value;
        from.value = to.value;
        to.value = temp;
    }

    loadCurrencies();
</script>
</body>
</html>